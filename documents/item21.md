# item21. μΈν„°νμ΄μ¤λ” κµ¬ν„ν•λ” μ½μ„ μƒκ°ν•΄ μ„¤κ³„ν•λΌ


## Java 8 μ΄μ „ 

>κΈ°μ΅΄ κµ¬ν„μ²΄λ¥Ό κΉ¨λ¨λ¦¬μ§€ μ•κ³ λ” μΈν„°νμ΄μ¤μ— λ©”μ„Έλ“λ¥Ό μ¶”κ°€ν•  λ°©λ²•μ΄ μ—†μ—λ‹¤.<br> 
κΈ°μ΅΄ μΈν„°νμ΄μ¤μ— λ©”μ„λ“λ¥Ό μ¶”κ°€ν–μ„ λ• μ»΄νμΌ μ¤λ¥κ°€ λ°μƒν•©λ‹λ‹¤ <br>
β†’ μ°μ—°ν κΈ°μ΅΄ κµ¬ν„μ²΄μ—  μ¶”κ°€λ λ©”μ„λ“κ°€ μ΄λ―Έ μ΅΄μ¬ν•  κ°€λ¥μ„±μ΄ κµ‰μ¥ν λ‚®κΈ° λ•λ¬Έμ— μ»΄νμΌ μ¤λ¥κ°€ λ°μƒν•λ‹¤.

## Java 8 μ΄ν›„
>κΈ°μ΅΄ μΈν„°νμ΄μ¤μ— λ©”μ„λ“λ¥Ό μ¶”κ°€ν• μ μλ„λ΅ 
`λ””ν΄νΈ λ©”μ„λ“`λ¥Ό μ†κ° ν•κ³ μμµλ‹λ‹¤.<br>
ν•μ§€λ§ λ¨λ“  κΈ°μ΅΄ κµ¬ν„μ²΄λ“¤κ³Ό λ§¤λ„λ½κ² μ—°λ™λλ¦¬λΌλ” λ³΄μ¥μ€ μ—†λ‹¤. λ¶λ³€μ‹μ„ ν•΄μΉμ§€ μ•λ” λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ‘μ„±ν•κΈ° μ–΄λ µμµλ‹λ‹¤<br>
β†’ μλ°” 7κΉμ§€μ μ„Έμƒμ—μ„λ” λ¨λ“  ν΄λμ¤κ°€ **"ν„μ¬μ μΈν„°νμ΄μ¤μ— μƒλ΅μ΄ λ©”μ„λ“κ°€ μ¶”κ°€λ  μΌμ€ μμ›ν μ—†λ‹¤"** κ³  κ°€μ •ν•κ³  μ‘μ„±λμ—κΈ° λ•λ¬Έμ΄λ‹¤.


 ### μλ°” 8μ Collection μΈν„°νμ΄μ¤μ— μ¶”κ°€λ removeIf λ©”μ„λ“ 
```java
public interface Collection<E> extends Iterable<E> {

	// ...

	default boolean removeIf(Predicate<? super E> filter) {
		Objects.requireNonNull(filter);
		boolean removed = false;
		final Iterator<E> each = iterator();
		while (each.hasNext()) {
			if (filter.test(each.next())) {
				each.remove();
				removed = true;
			}
		}
		return removed;
	}

	// ...

}
```

```java
//μ‚¬μ©μμ‹ μ½”λ“ 
public class Exam {

    public static void main(String[] args) {
        List<String>  colors = new ArrayList<>();
        colors.add("White");
        colors.add("Yellow");
        colors.add("Red");
        colors.add("Blue");
        colors.add("Black");

        System.out.println(colors);

        // removeIf μ‚¬μ© μ΅°κ±΄μ— μΌμΉν•λ” κ°’μΈ λ¬Έμμ—΄ κΈΈμ΄κ°€ 5λ³΄λ‹¤ ν° κ°’μ„ μ‚­μ 
        colors.removeIf(name -> name.length() > 5);

        // μ‚­μ ν›„ μ”μ†λ¥Ό μ¶λ ¥
        System.out.println("---------------------------");
        System.out.println(colors);
    }

}
```

### SynchroziedCollection
>λ¨λ“  λ©”μ„λ“μ—μ„ μ£Όμ–΄μ§„ λ½ κ°μ²΄λ΅ λ™κΈ°ν™”ν• ν›„ λ‚΄λ¶€ μ»¬λ ‰μ… κ°μ²΄μ— κΈ°λ¥μ„ μ„μ„ν•λ” λνΌ ν΄λμ¤μ΄λ‹¤.

β†’ Thread-safeν• κ°μ²΄λ¥Ό λ§λ“¤ μ μλ‹¤.

![image](https://user-images.githubusercontent.com/42836576/106704468-8a04d280-662f-11eb-979d-3905cb495335.png)
>μ±… μ—μ„ μ–ΈκΈ‰ν•λ” μ‹μ  removeIf λ©”μ„λ“λ¥Ό μ¬μ •μ ν•κ³  μμ§€ μ•λ‹¤ <br>
> 
β†’ 3.2.2 λ²„μ „μ—μ„λ” removeIfλ¥Ό μ¬μ •μν•μ§€ μ•κ³  μλ‹¤.

![image](https://user-images.githubusercontent.com/42836576/106704478-8c672c80-662f-11eb-8434-d37db32b0134.png)

4.4 λ²„μ „μ—μ„λ” removeIfλ¥Ό μ¬μ •μν•κ³  μλ‹¤.
π”  [λ²„μ „ ν™•μΈ λ§ν¬](https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/index.html)


### 3.2.2λ²„μ „μ—μ„ μ¬μ •μ λμ§€μ•μ€ `removeIf` νΈμ¶ν•  κ²½μ°  

β†’ **ConcurrentModificationException**μ΄ λ°μƒν•κ±°λ‚ μκΈ°μΉ λ»ν• κ²°κ³Όκ°€ λ°μƒν•  μ μλ‹¤.

 
# π“‹ **μ •λ¦¬**
### `μΈν„°νμ΄μ¤λ¥Ό μ„¤κ³„ν• λ•λ” μ—¬μ „ν μ„Έμ‹¬ν•¨ μ£Όμλ¥Ό κΈ°μΈμ—¬μ•Ό ν•©λ‹λ‹¤`<br>
μλ°” 8 μ΄μ „ μΈν„°νμ΄μ¤μ— λ©”μ„λ“λ¥Ό μ¶”κ°€ν•  μ μ—†μ—μµλ‹λ‹¤<br>
ν•μ§€λ§ μλ°” 8 μ—μ„ λ¶€ν„° μ¶”κ°€ν• μ μλ„λ΅ λ””ν΄νΈ λ©”μ„λ“ λΌλ” λ„κµ¬κ°€ μƒκ²Όλ””κ³  μ–ΈκΈ‰ν•κ³  μμµλ‹λ‹¤<br>
### `λ””ν΄νΈ λ©”μ„λ“`<br>
a. κΈ°μ΅΄ μΈν„°νμ΄μ¤μ—λ” κΌ­ ν•„μ”ν• κ²½μ°κ°€ μ•„λ‹λ©΄ λ””ν΄νΈ λ©”μ„λ“λ” μ¶”κ°€ν•μ§€ μ•λ” κ²ƒμ΄ μΆ‹λ‹¤.<br>
b. μΈν„°νμ΄μ¤λ΅ λ¶€ν„° λ©”μ„λ“ μ κ±° λλ” κΈ°μ΅΄ λ©”μ„λ“μ μμ • μ©λ„κ°€ μ•„λ‹λ‹¤<br>
c. item 20 μƒλ΅μ΄ μΈν„°νμ΄μ¤λ¥Ό κ²½μ°μ— λ””ν΄νΈ λ©”μ„λ“λ¥Ό ν™μ©ν•λ©΄ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ”λ° μ‡μ–΄μ„ ν™μ©ν•  μ μλ” μ μ©ν• μλ‹¨μ΄λ‹¤ <br>

### `μΈν„°νμ΄μ¤ μ„¤κ³„`<br> 
a. λ¦΄λ¦¬μ¤ μ „ λ°λ“μ‹ ν…μ¤νΈλ¥Ό κ±°μ³μ•Ό ν•λ‹¤<br>
b. μµμ†ν• μ„Έκ°€μ§€ μ΄μƒμλ΅ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•΄λ³΄μ•„μ•Ό ν•λ‹¤<br>
c. μΈν„°νμ΄μ¤ λ¦΄λ¦¬μ¤ μ΄ν›„ μμ •μ΄ κ°€λ¥ν• κ²½μ°λ„ μμ§€λ§ μ¶”ν›„μ— κ²°ν•¨ μμ • κ°€λ¥μ„±μ— κΈ°λ€μ„λ” μ•λλ‹¤.
